{% extends "base.html" %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-6">Lista de Produtos</h1>

    <form action="{{ url_for('filtrar', tipo='higiene') }}" method="get" class="mb-4">
        <button type="submit" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded transition">
            Filtrar Produtos de Higiene
        </button>
    </form>
    <form action="{{ url_for('filtrar', tipo='nuclear') }}" method="get" class="mb-4">
        <button type="submit" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition">
            Filtrar Produtos Nucleares
        </button>
    
    <!-- Grid de produtos -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        {% for produto in produtos.values() %}
        <div class="bg-white rounded-lg shadow-md p-6 flex flex-col items-center">
            <!-- Imagem do produto -->
            <img src="{{ produto.imagem_url }}" alt="{{ produto.nome }}" 
                 class="w-32 h-32 object-cover mb-4 rounded">
            
            <!-- Nome do produto -->
            <h2 class="text-xl font-semibold mb-2">{{ produto.nome }}</h2>
            
            <!-- Preço -->
            <p class="text-gray-700 mb-2">R$ {{ "%.2f"|format(produto.preco) }}</p>
            
            <!-- Botão para adicionar ao carrinho -->
            <form action="{{ url_for('adicionar_ao_carrinho', produto_id=produto.id, qtd=quantidade) }}" method="post">
                <input type="number" name="quantidade" value="1" min="1" class="w-16 text-center border rounded mb-2">
                <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
                    Adicionar ao Carrinho
                </button>
            </form>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}